{"ast":null,"code":"var _jsxFileName = \"/Users/vidyas/Downloads/IIT_Courses/Fall_2021/CSP_584_EWA/Assignments/Bonus_Assign_2/Bonus_Assignment_2_Sudharshana, Vidya/Chicago_SocialHub_React/frontend_react/src/components/covideHeatMap.js\";\nimport React, { Component } from \"react\";\nimport { Row, Col, Button, Input, Card } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faChartBar, faHome } from \"@fortawesome/free-solid-svg-icons\";\nimport Header from \"./header\";\nimport { Redirect } from 'react-router-dom';\nimport { Map, GoogleApiWrapper, HeatMap } from \"google-maps-react\"; // const data = [\n// {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.850321, lng: -87.717446},\n//  {lat: 41.850321, lng: -87.717446},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.881113, lng: -87.756863},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.810038, lng: -87.711251},\n// ];\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CoivdHeatMapChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      moveToHome: false,\n      movetoStations: false,\n      stations: [],\n      data: [],\n      gradient: [],\n      center: {\n        lat: 41.882607,\n        lng: -87.643548\n      }\n    };\n  } // componentDidMount() {\n  //     let comp = this\n  //     var axios = require('axios');\n  //     var config = {\n  //     method: 'get',\n  //     url: 'http://localhost:3000/heatmap',\n  //     headers: { }\n  //     };\n  //     axios(config)\n  //     .then(function (response) {\n  //     // console.log(JSON.stringify(response.data));\n  //     let gradient = []\n  // let heatmapData = []\n  //         for(let i=0; i< response.data[0].length; i++) {\n  //             // if(response.data[0][i].ccvi > 50) {\n  //             //     gradient.push( \"rgba(0, 255, 255, 0)\")\n  //             // } else {\n  //             //     gradient.push(\"rgba(0, 63, 255, 1)\")\n  //             // }\n  //             const heatMapDict = {\n  //                 lat: response.data[0][i].latitude,\n  //                 lng: response.data[0][i].longitude,\n  //                 weight: response.data[0][i].ccvi\n  //             }\n  //             heatmapData.push(heatMapDict)\n  //         }\n  //         comp.setState({\n  //             data: heatmapData\n  //         })\n  // })\n  // .catch(function (error) {\n  // console.log(error);\n  // });\n  // }\n\n\n  componentDidMount() {\n    let comp = this;\n\n    var axios = require('axios');\n\n    var data1 = JSON.stringify({\n      \"timeRange\": \"Past Hour\",\n      \"newTimeRangeSelection\": false\n    });\n    var config = {\n      method: 'post',\n      url: 'http://localhost:4000/stations/fetch_all_divvy_stations_data',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data1\n    };\n    axios(config).then(function (response) {\n      console.log(JSON.stringify(response.data));\n      let gradient = [];\n      let heatmapData = [];\n\n      for (let i = 0; i < response.data.length; i++) {\n        //   const heatMapDict = {\n        //       lat: response.data[i].latitude,\n        //       lng: response.data[i].longitude\n        //   }\n        const heatMapDict = {\n          lat: response.data[i].latitude,\n          lng: response.data[i].longitude,\n          weight: response.data[i].ccvi\n        };\n        heatmapData.push(heatMapDict);\n      }\n\n      comp.setState({\n        data: heatmapData //   gradient: gradient\n\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  moveToListOfStations() {\n    this.setState({\n      movetoStations: true\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const gradient = [\"rgba(0, 255, 255, 0)\", \"rgba(0, 255, 255, 1)\", \"rgba(0, 191, 255, 1)\", \"rgba(0, 127, 255, 1)\", \"rgba(0, 63, 255, 1)\", \"rgba(0, 0, 255, 1)\", \"rgba(0, 0, 223, 1)\", \"rgba(0, 0, 191, 1)\", \"rgba(0, 0, 159, 1)\", \"rgba(0, 0, 127, 1)\", \"rgba(63, 0, 91, 1)\", \"rgba(127, 0, 63, 1)\", \"rgba(191, 0, 31, 1)\", \"rgba(255, 0, 0, 1)\"];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.movetoStations ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/list_of_stations\",\n          state: {\n            stations: this.props.location.state.stations,\n            places: this.props.location.state.places,\n            find: this.props.location.state.find,\n            where: this.props.location.state.where\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 45\n      }, this) : null, /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            style: {\n              padding: \"20px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                backgroundColor: \"#191970\"\n              },\n              onClick: this.moveToListOfStations.bind(this),\n              children: [\"Go Back \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: \"10px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faArrowLeft\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 170\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 133\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            style: {\n              padding: \"20px\"\n            },\n            children: [\" Time Range\", /*#__PURE__*/_jsxDEV(Input, {\n              type: \"select\",\n              style: {\n                border: \"none\",\n                borderBottom: \"1px solid black\"\n              },\n              name: \"find\",\n              onChange: this.handleChange.bind(this),\n              placeholder: \"Find\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"PAST HOUR\",\n                children: \"Past Hour\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"LAST 24 HOURS\",\n                children: \"Last 24 Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"LAST 7 DAYS\",\n                children: \"Last 7 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"w-full h-512 rounded-8 shadow-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: `400px`,\n                width: '100%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Map, {\n                google: this.props.google,\n                className: \"map\",\n                zoom: 8,\n                initialCenter: this.state.center,\n                onReady: this.handleMapReady,\n                children: /*#__PURE__*/_jsxDEV(HeatMap, {\n                  gradient: gradient,\n                  positions: this.props.location.state.heatMapData,\n                  opacity: 1,\n                  radius: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyD7sSn5S_wx5HMwrbsGO4lpKAknoJqxfZA\",\n  libraries: [\"visualization\"]\n})(CoivdHeatMapChart);","map":{"version":3,"sources":["/Users/vidyas/Downloads/IIT_Courses/Fall_2021/CSP_584_EWA/Assignments/Bonus_Assign_2/Bonus_Assignment_2_Sudharshana, Vidya/Chicago_SocialHub_React/frontend_react/src/components/covideHeatMap.js"],"names":["React","Component","Row","Col","Button","Input","Card","FontAwesomeIcon","faArrowLeft","faChartBar","faHome","Header","Redirect","Map","GoogleApiWrapper","HeatMap","CoivdHeatMapChart","constructor","props","state","moveToHome","movetoStations","stations","data","gradient","center","lat","lng","componentDidMount","comp","axios","require","data1","JSON","stringify","config","method","url","headers","then","response","console","log","heatmapData","i","length","heatMapDict","latitude","longitude","weight","ccvi","push","setState","catch","error","moveToListOfStations","handleChange","e","target","name","value","render","pathname","location","places","find","where","textAlign","padding","backgroundColor","bind","marginLeft","border","borderBottom","height","width","google","handleMapReady","heatMapData","apiKey","libraries"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Row, Col, Button, Input, Card} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faChartBar, faHome } from \"@fortawesome/free-solid-svg-icons\";\nimport Header from \"./header\";\nimport {Redirect} from 'react-router-dom'\nimport { Map, GoogleApiWrapper, HeatMap } from \"google-maps-react\";\n\n// const data = [\n// {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.77599, lng: -87.668597},\n//  {lat: 41.850321, lng: -87.717446},\n//  {lat: 41.850321, lng: -87.717446},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.777061, lng: -87.711565},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.776931, lng: -87.638812},\n//  {lat: 41.881113, lng: -87.756863},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.901964, lng: -87.741017},\n//  {lat: 41.810038, lng: -87.711251},\n// ];\n\nclass CoivdHeatMapChart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            moveToHome: false,\n            movetoStations: false,\n            stations: [],\n            data: [],   \n            gradient: [],  \n            center: {\n                lat: 41.882607, \n                lng:  -87.643548\n            }\n        }\n    }\n\n    // componentDidMount() {\n    //     let comp = this\n    //     var axios = require('axios');\n    //     var config = {\n    //     method: 'get',\n    //     url: 'http://localhost:3000/heatmap',\n    //     headers: { }\n    //     };\n\n    //     axios(config)\n    //     .then(function (response) {\n    //     // console.log(JSON.stringify(response.data));\n    //     let gradient = []\n        // let heatmapData = []\n        //         for(let i=0; i< response.data[0].length; i++) {\n        //             // if(response.data[0][i].ccvi > 50) {\n        //             //     gradient.push( \"rgba(0, 255, 255, 0)\")\n        //             // } else {\n        //             //     gradient.push(\"rgba(0, 63, 255, 1)\")\n        //             // }\n        //             const heatMapDict = {\n        //                 lat: response.data[0][i].latitude,\n        //                 lng: response.data[0][i].longitude,\n        //                 weight: response.data[0][i].ccvi\n        //             }\n        //             heatmapData.push(heatMapDict)\n        //         }\n\n        //         comp.setState({\n        //             data: heatmapData\n        //         })\n        // })\n        // .catch(function (error) {\n        // console.log(error);\n        // });\n\n    // }\n\n    componentDidMount() {\n        let comp = this\n\n        var axios = require('axios');\n        var data1 = JSON.stringify({\n          \"timeRange\": \"Past Hour\",\n          \"newTimeRangeSelection\": false\n        });\n        \n        var config = {\n          method: 'post',\n          url: 'http://localhost:4000/stations/fetch_all_divvy_stations_data',\n          headers: { \n            'Content-Type': 'application/json'\n          },\n          data : data1\n        };\n        \n        axios(config)\n        .then(function (response) {\n          console.log(JSON.stringify(response.data));\n\n          let gradient = []\n          let heatmapData = []\n                  for(let i=0; i< response.data.length; i++) {\n                    //   const heatMapDict = {\n                    //       lat: response.data[i].latitude,\n                    //       lng: response.data[i].longitude\n                    //   }\n                    const heatMapDict = {\n                      lat: response.data[i].latitude, \n                      lng: response.data[i].longitude,\n                      weight: response.data[i].ccvi\n                    }\n                      heatmapData.push(heatMapDict)\n                  }\n  \n                  comp.setState({\n                      data: heatmapData,\n                      \n                    //   gradient: gradient\n                  })\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        \n\n    }\n\n    moveToListOfStations() {\n        this.setState({\n            movetoStations: true\n        })\n    }\n\n    handleChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    render() {\n        const gradient = [\n            \"rgba(0, 255, 255, 0)\",\n            \"rgba(0, 255, 255, 1)\",\n            \"rgba(0, 191, 255, 1)\",\n            \"rgba(0, 127, 255, 1)\",\n            \"rgba(0, 63, 255, 1)\",\n            \"rgba(0, 0, 255, 1)\",\n            \"rgba(0, 0, 223, 1)\",\n            \"rgba(0, 0, 191, 1)\",\n            \"rgba(0, 0, 159, 1)\",\n            \"rgba(0, 0, 127, 1)\",\n            \"rgba(63, 0, 91, 1)\",\n            \"rgba(127, 0, 63, 1)\",\n            \"rgba(191, 0, 31, 1)\",\n            \"rgba(255, 0, 0, 1)\"\n          ];\n        return (\n            <div>\n                {this.state.movetoStations? <Redirect to = {{\n                    pathname: \"/list_of_stations\",\n                    state: { stations: this.props.location.state.stations, places: this.props.location.state.places, find: this.props.location.state.find, where: this.props.location.state.where} \n                }} \n                /> :null }\n                <Header />\n                <div style = {{textAlign: \"left\"}}>\n                    <Row>\n                        <Col md = {10}></Col>\n                        <Col md = {2} style = {{padding: \"20px\"}}>\n                            <Button style = {{backgroundColor: \"#191970\"}} onClick = {this.moveToListOfStations.bind(this)}>Go Back <span style = {{marginLeft: \"10px\"}}><FontAwesomeIcon icon = {faArrowLeft} /></span></Button>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col md = {2} style = {{padding: \"20px\"}}> Time Range\n                            <Input type = \"select\" style = {{border: \"none\", borderBottom: \"1px solid black\"}} name=\"find\" onChange = {this.handleChange.bind(this)}  placeholder = \"Find\">\n                                <option value = \"PAST HOUR\">Past Hour</option>\n                                <option value = \"LAST 24 HOURS\">Last 24 Hours</option>\n                                <option value = \"LAST 7 DAYS\">Last 7 Days</option>\n                            </Input>\n                        </Col>\n                    </Row>\n\n                    {/* {console.log(\"Heat map data\", this.state.data)}\n                    {console.log(\"Gradient\", this.state.gradient)} */}\n\n                     <div style = {{padding: \"20px\"}}>\n                     <Card className=\"w-full h-512 rounded-8 shadow-1\">\n                        <div style={{height: `400px`, width: '100%'}}>\n                        <Map\n                            google={this.props.google}\n                            className={\"map\"}\n                            zoom={8}\n                            initialCenter={this.state.center}\n                            onReady={this.handleMapReady}\n                            >\n                            <HeatMap\n                                gradient={gradient}\n                                positions={this.props.location.state.heatMapData}\n                                opacity={1}\n                                radius={20}\n                            />\n                            </Map>\n                        </div>\n                     </Card>\n                    \n                    </div>\n                    </div>\n                </div >\n\n        );\n    }\n}\n\nexport default GoogleApiWrapper({\n    apiKey: \"AIzaSyD7sSn5S_wx5HMwrbsGO4lpKAknoJqxfZA\",\n    libraries: [\"visualization\"]\n  })(CoivdHeatMapChart);\n\n"]},"metadata":{},"sourceType":"module"}